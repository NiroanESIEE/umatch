{"filter":false,"title":"index.php","tooltip":"/index.php","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":10,"column":7},"action":"remove","lines":["<html><body>","<?php","// A simple web site in Cloud9 that runs through Apache","// Press the 'Run' button on the top to start the web server,","// then click the URL that is emitted to the Output tab of the console","","echo 'Hello world from Cloud9!';","","?>","</body>","</html>"],"id":2},{"start":{"row":0,"column":0},"end":{"row":259,"column":0},"action":"insert","lines":["<!DOCTYPE html>","<html>","<head>","\t<meta charset=\"utf-8\"/>","\t<title>UMatch</title>","\t<link rel=\"stylesheet\" type=\"text/css\" href=\"UMatch.css\"></link>","</head>","<body>","\t<header>","\t\t<img id=\"logo\" src=\"Logos/Logo_UMATCH.png\"></img>","\t\t<h2 id=\"title\">UMatch</h2>","\t\t<h2 id=\"about\">About us</h2>","\t</header>","","\t<div id=\"container\">","\t\t<video autoplay=\"true\" id=\"videoElement\">","\t\t</video>","\t\t<div id=\"videoBanner\">","\t\t\t<image id=\"saveImage\" src=\"Logos/save.png\"></image>","\t\t\t<image id=\"recordImage\" src=\"Logos/record.png\"></image>","\t\t</div>","\t\t<div id=\"imageElementDiv\">","\t\t\t<!-- Upload  -->","\t\t\t<form id=\"file-upload-form\" class=\"uploader\">","\t\t\t\t<input id=\"file-upload\" type=\"file\" name=\"fileUpload\" accept=\"image/*\" />","","\t\t\t\t<label for=\"file-upload\" id=\"file-drag\">","\t\t\t\t\t<img id=\"file-image\" src=\"#\" alt=\"Preview\" class=\"hidden\">","\t\t\t\t\t<div id=\"start\">","\t\t\t\t\t\t<div>Select a file or drag here</div>","\t\t\t\t\t\t<div id=\"notimage\" class=\"hidden\">Please select an image</div>","\t\t\t\t\t\t<span id=\"file-upload-btn\" class=\"btn btn-primary\">Select a file</span>","\t\t\t\t\t</div>","\t\t\t\t\t<div id=\"response\" class=\"hidden\">","\t\t\t\t\t\t<div id=\"messages\"></div>","","\t\t\t\t\t</div>","\t\t\t\t</label>","\t\t\t</form>","\t\t</div>","\t</div>","","\t<div id=\"choice\">","\t\t<div id=\"divCameraPhoto\" onclick=\"divCameraPhotofunction()\">","\t\t\t<img id=\"cameraPhoto\" src=\"Logos/appareil_photo.png\"></img>","\t\t</div>","\t\t<div id=\"divUploadPhoto\" onclick=\"divUploadPhotofunction()\">","\t\t\t<img id=\"uploadPhoto\" src=\"Logos/upload_photo.png\"></img>","\t\t</div>","\t</div>","","\t<script>","","\tvar enableVideo = true;","\tvar autorisationVideo = false;","\tif (enableVideo == true) {","\t\tdivCameraPhotofunction();","\t}","\telse {","\t\tdivUploadPhotofunction();","\t}","","\t//Affichage de la partie video lors du clic","\tfunction divCameraPhotofunction(){","","\t\tdocument.getElementById(\"videoElement\").style.visibility = \"visible\";","\t\tdocument.getElementById(\"videoBanner\").style.visibility = \"visible\";","","\t\tdocument.getElementById(\"imageElementDiv\").style.visibility = \"hidden\";","","\t\tyellowColor = \"#FDFD96\";","\t\tgrayColor = \"#E8E8E8\";","\t\tdocument.getElementById(\"divCameraPhoto\").style.backgroundColor = yellowColor;","\t\tdocument.getElementById(\"divUploadPhoto\").style.backgroundColor = grayColor;","","\t\tvar video = document.querySelector(\"#videoElement\");","\t\t//Si jamais effectuee autorisation de la video alors demande","\t\tif (autorisationVideo == false) {","\t\t\tif (navigator.mediaDevices.getUserMedia) {","\t\t\t\tnavigator.mediaDevices.getUserMedia({video: true})","\t\t\t\t.then(function(stream) {","\t\t\t\t\tvideo.srcObject = stream;","\t\t\t\t\tvideo.play();","\t\t\t\t})","\t\t\t\t.catch(function(err0r) {","\t\t\t\t\tconsole.log(\"Something went wrong!\");","\t\t\t\t});","\t\t\t}","\t\t\tautorisationVideo = true;","\t\t}","\t\t//Si deja autorisation de la video","\t\telse {","\t\t\tvideo.play();","\t\t}","","\t}","","\t//Affichage du chargement image lors du clic","\tfunction divUploadPhotofunction(){","","\t\tdocument.getElementById(\"videoElement\").style.visibility = \"hidden\";","\t\tdocument.getElementById(\"videoBanner\").style.visibility = \"hidden\";","","\t\tdocument.getElementById(\"imageElementDiv\").style.visibility = \"visible\";","","\t\tyellowColor = \"#FDFD96\";","\t\tgrayColor = \"#E8E8E8\";","\t\tdocument.getElementById(\"divCameraPhoto\").style.backgroundColor = grayColor;","\t\tdocument.getElementById(\"divUploadPhoto\").style.backgroundColor = yellowColor;","","\t\tvar video = document.querySelector(\"#videoElement\");","\t\tvideo.pause();","\t}","","","\t//UPLOAD IMAGES","\tfunction Upload(){","\t\tfunction Init() {","","\t\t\tconsole.log(\"Upload Initialised\");","","\t\t\tvar fileSelect    = document.getElementById('file-upload'),","\t\t\t\t\tfileDrag      = document.getElementById('file-drag'),","\t\t\t\t\tsubmitButton  = document.getElementById('submit-button');","","\t\t\tfileSelect.addEventListener('change', fileSelectHandler, false);","","\t\t\t// Is XHR2 available?","\t\t\tvar xhr = new XMLHttpRequest();","\t\t\tif (xhr.upload) {","\t\t\t\t// File Drop","\t\t\t\tfileDrag.addEventListener('dragover', fileDragHover, false);","\t\t\t\tfileDrag.addEventListener('dragleave', fileDragHover, false);","\t\t\t\tfileDrag.addEventListener('drop', fileSelectHandler, false);","\t\t\t}","\t\t}","","\t\tfunction fileDragHover(e) {","\t\t\tvar fileDrag = document.getElementById('file-drag');","","\t\t\te.stopPropagation();","\t\t\te.preventDefault();","","\t\t\tfileDrag.className = (e.type === 'dragover' ? 'hover' : 'modal-body file-upload');","\t\t}","","\t\tfunction fileSelectHandler(e) {","\t\t\t// Fetch FileList object","\t\t\tvar files = e.target.files || e.dataTransfer.files;","","\t\t\t// Cancel event and hover styling","\t\t\tfileDragHover(e);","","\t\t\t// Process all File objects","\t\t\tfor (var i = 0, f; f = files[i]; i++) {","\t\t\t\tparseFile(f);","\t\t\t\tuploadFile(f);","\t\t\t}","\t\t}","","\t\t// Output","\t\tfunction output(msg) {","\t\t\t// Response","\t\t\tvar m = document.getElementById('messages');","\t\t\tm.innerHTML = msg;","\t\t}","","\t\tfunction parseFile(file) {","","\t\t\tconsole.log(file.name);","\t\t\toutput(","\t\t\t\t'<strong>' + encodeURI(file.name) + '</strong>'","\t\t\t);","","\t\t\t// var fileType = file.type;","\t\t\t// console.log(fileType);","\t\t\tvar imageName = file.name;","","\t\t\tvar isGood = (/\\.(?=gif|jpg|png|jpeg)/gi).test(imageName);","\t\t\tif (isGood) {","\t\t\t\tdocument.getElementById('start').classList.add(\"hidden\");","\t\t\t\tdocument.getElementById('response').classList.remove(\"hidden\");","\t\t\t\tdocument.getElementById('notimage').classList.add(\"hidden\");","\t\t\t\t// Thumbnail Preview","\t\t\t\tdocument.getElementById('file-image').classList.remove(\"hidden\");","\t\t\t\tdocument.getElementById('file-image').src = URL.createObjectURL(file);","\t\t\t}","\t\t\telse {","\t\t\t\tdocument.getElementById('file-image').classList.add(\"hidden\");","\t\t\t\tdocument.getElementById('notimage').classList.remove(\"hidden\");","\t\t\t\tdocument.getElementById('start').classList.remove(\"hidden\");","\t\t\t\tdocument.getElementById('response').classList.add(\"hidden\");","\t\t\t\tdocument.getElementById(\"file-upload-form\").reset();","\t\t\t}","\t\t}","","","\t\tfunction uploadFile(file) {","","\t\t\tvar xhr = new XMLHttpRequest(),","\t\t\t\tfileInput = document.getElementById('class-roster-file'),","\t\t\t\tpBar = document.getElementById('file-progress'),","\t\t\t\tfileSizeLimit = 1024; // In MB","\t\t\tif (xhr.upload) {","\t\t\t\t// Check if file is less than x MB","\t\t\t\tif (file.size <= fileSizeLimit * 1024 * 1024) {","\t\t\t\t\t// Progress bar","\t\t\t\t\tpBar.style.display = 'inline';","\t\t\t\t\txhr.upload.addEventListener('loadstart', setProgressMaxValue, false);","\t\t\t\t\txhr.upload.addEventListener('progress', updateFileProgress, false);","","\t\t\t\t\t// File received / failed","\t\t\t\t\txhr.onreadystatechange = function(e) {","\t\t\t\t\t\tif (xhr.readyState == 4) {","\t\t\t\t\t\t\t// Everything is good!","","\t\t\t\t\t\t\t// progress.className = (xhr.status == 200 ? \"success\" : \"failure\");","\t\t\t\t\t\t\t// document.location.reload(true);","\t\t\t\t\t\t}","\t\t\t\t\t};","","\t\t\t\t\t// Start upload","\t\t\t\t\txhr.open('POST', document.getElementById('file-upload-form').action, true);","\t\t\t\t\txhr.setRequestHeader('X-File-Name', file.name);","\t\t\t\t\txhr.setRequestHeader('X-File-Size', file.size);","\t\t\t\t\txhr.setRequestHeader('Content-Type', 'multipart/form-data');","\t\t\t\t\txhr.send(file);","\t\t\t\t} else {","\t\t\t\t\toutput('Please upload a smaller file (< ' + fileSizeLimit + ' MB).');","\t\t\t\t}","\t\t\t}","\t\t}","","\t\t// Check for the various File API support.","\t\tif (window.File && window.FileList && window.FileReader) {","\t\t\tInit();","\t\t} else {","\t\t\tdocument.getElementById('file-drag').style.display = 'none';","\t\t}","\t}","\tUpload();","","","","\t/*","\tvar video = document.querySelector(\"#videoElement\");","","\tif (navigator.mediaDevices.getUserMedia) {","\tnavigator.mediaDevices.getUserMedia({video: true})","\t.then(function(stream) {","\tvideo.srcObject = stream;","})",".catch(function(err0r) {","console.log(\"Something went wrong!\");","});","}*/","</script>","</body>","</html>",""]}]]},"ace":{"folds":[],"scrolltop":180,"scrollleft":0,"selection":{"start":{"row":17,"column":24},"end":{"row":17,"column":24},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":11,"state":"start","mode":"ace/mode/php"}},"timestamp":1552309096560,"hash":"202f11e8a61bb8514737b11f0314c88fd9a25a47"}